{
  "checkpoint_id": "b8d42e0a-3243-4e9b-a716-2adb78a122cc",
  "workflow_id": "49be7f9c-16e5-427b-9bd6-2ea0670014c4",
  "timestamp": "2025-12-17T08:48:15.457422+00:00",
  "messages": {
    "InvoiceAgent": [
      {
        "data": {
          "__af_dataclass__": "agent_framework._workflows._agent_executor:AgentExecutorResponse",
          "value": {
            "executor_id": "InvoiceAgent",
            "agent_run_response": {
              "__af_model__": "agent_framework._types:AgentRunResponse",
              "strategy": "to_dict",
              "value": {
                "type": "agent_run_response",
                "messages": [
                  {
                    "type": "chat_message",
                    "role": {
                      "type": "role",
                      "value": "assistant"
                    },
                    "contents": [
                      {
                        "type": "text",
                        "text": "**Invoice**\n\n| Product   | Quantity | Code | Unit Price | Calculation        | Line Total |\n|-----------|----------|------|------------|--------------------|------------|\n| Apple     | 3        | 93   | $1.50      | 3 x $1.50 = $4.50  | $4.50      |\n| Orange    | 2        | 97   | $1.25      | 2 x $1.25 = $2.50  | $2.50      |\n| Mango     | 1        | 76   | $2.00      | 1 x $2.00 = $2.00  | $2.00      |\n\n**GRAND TOTAL: $4.50 + $2.50 + $2.00 = $9.00**\n\n**CODES USED: 93, 97, 76**"
                      }
                    ],
                    "author_name": "InvoiceAgent",
                    "message_id": "run_rObGkevOqKLXKCTtEMyCsDiK",
                    "additional_properties": {}
                  }
                ],
                "response_id": "run_rObGkevOqKLXKCTtEMyCsDiK",
                "usage_details": {
                  "type": "usage_details",
                  "input_token_count": 444,
                  "output_token_count": 189,
                  "total_token_count": 633
                },
                "additional_properties": {}
              }
            },
            "full_conversation": [
              {
                "__af_model__": "agent_framework._types:ChatMessage",
                "strategy": "to_dict",
                "value": {
                  "type": "chat_message",
                  "role": {
                    "type": "role",
                    "value": "user"
                  },
                  "contents": [
                    {
                      "type": "text",
                      "text": "Process an order for a customer who wants: 3 Apples, 2 Oranges, and 1 Mango. First, get the product codes and prices from the catalog. Then create the order with the exact codes. Finally, generate an invoice showing all codes and the grand total."
                    }
                  ],
                  "additional_properties": {}
                }
              },
              {
                "__af_model__": "agent_framework._types:ChatMessage",
                "strategy": "to_dict",
                "value": {
                  "type": "chat_message",
                  "role": {
                    "type": "role",
                    "value": "assistant"
                  },
                  "contents": [
                    {
                      "type": "text",
                      "text": "Product Codes and Prices from Catalog:\n- Apple: CODE: 93, PRICE: $1.50\n- Orange: CODE: 97, PRICE: $1.25\n- Mango: CODE: 76, PRICE: $2.00\n\nOrder Creation:\n- 3 Apples: CODE: 93\n- 2 Oranges: CODE: 97\n- 1 Mango: CODE: 76\n\nInvoice:\n\n| Product  | Quantity | Code | Unit Price | Total Price |\n|----------|----------|------|------------|-------------|\n| Apple    | 3        | 93   | $1.50      | $4.50       |\n| Orange   | 2        | 97   | $1.25      | $2.50       |\n| Mango    | 1        | 76   | $2.00      | $2.00       |\n\nGrand Total: $4.50 + $2.50 + $2.00 = $9.00"
                    }
                  ],
                  "author_name": "CatalogAgent",
                  "message_id": "run_1UbhW99STtv6zdiarQTJzeFF",
                  "additional_properties": {}
                }
              },
              {
                "__af_model__": "agent_framework._types:ChatMessage",
                "strategy": "to_dict",
                "value": {
                  "type": "chat_message",
                  "role": {
                    "type": "role",
                    "value": "assistant"
                  },
                  "contents": [
                    {
                      "type": "text",
                      "text": "Order Details:\n\nITEM: Apple (Code: 93) x 3 = $4.50  \nITEM: Orange (Code: 97) x 2 = $2.50  \nITEM: Mango (Code: 76) x 1 = $2.00  \n\nGrand Total: $9.00"
                    }
                  ],
                  "author_name": "OrderAgent",
                  "message_id": "run_pg02WiHICKjcbkhW6u8JepTT",
                  "additional_properties": {}
                }
              },
              {
                "__af_model__": "agent_framework._types:ChatMessage",
                "strategy": "to_dict",
                "value": {
                  "type": "chat_message",
                  "role": {
                    "type": "role",
                    "value": "assistant"
                  },
                  "contents": [
                    {
                      "type": "text",
                      "text": "**Invoice**\n\n| Product   | Quantity | Code | Unit Price | Calculation        | Line Total |\n|-----------|----------|------|------------|--------------------|------------|\n| Apple     | 3        | 93   | $1.50      | 3 x $1.50 = $4.50  | $4.50      |\n| Orange    | 2        | 97   | $1.25      | 2 x $1.25 = $2.50  | $2.50      |\n| Mango     | 1        | 76   | $2.00      | 1 x $2.00 = $2.00  | $2.00      |\n\n**GRAND TOTAL: $4.50 + $2.50 + $2.00 = $9.00**\n\n**CODES USED: 93, 97, 76**"
                    }
                  ],
                  "author_name": "InvoiceAgent",
                  "message_id": "run_rObGkevOqKLXKCTtEMyCsDiK",
                  "additional_properties": {}
                }
              }
            ]
          }
        },
        "source_id": "InvoiceAgent",
        "target_id": null,
        "type": "standard",
        "trace_contexts": null,
        "source_span_ids": null,
        "original_request": null
      }
    ]
  },
  "shared_state": {
    "_workflow_run_kwargs": {},
    "_executor_state": {
      "input-conversation": {},
      "CatalogAgent": {
        "cache": [],
        "agent_thread": {
          "type": "agent_thread_state",
          "service_thread_id": "thread_ty8POqxi3Hw9BD5uR0x7U7qs",
          "chat_message_store_state": null
        },
        "pending_agent_requests": {},
        "pending_responses_to_agent": []
      },
      "to-conversation:CatalogAgent": {},
      "OrderAgent": {
        "cache": [],
        "agent_thread": {
          "type": "agent_thread_state",
          "service_thread_id": "thread_2o8pPmyLuwCQ2tmu3YSNPfy5",
          "chat_message_store_state": null
        },
        "pending_agent_requests": {},
        "pending_responses_to_agent": []
      },
      "to-conversation:OrderAgent": {},
      "InvoiceAgent": {
        "cache": [],
        "agent_thread": {
          "type": "agent_thread_state",
          "service_thread_id": "thread_nIXa5Vvrvn2pejuZOdVNtkBO",
          "chat_message_store_state": null
        },
        "pending_agent_requests": {},
        "pending_responses_to_agent": []
      },
      "to-conversation:InvoiceAgent": {},
      "end": {}
    }
  },
  "pending_request_info_events": {},
  "iteration_count": 5,
  "metadata": {
    "superstep": 5,
    "checkpoint_type": "superstep",
    "graph_signature": "a6b707a772a93fb4ee5cf532069ea162c7f436dbb6d24c88fa1aa165b200ef01"
  },
  "version": "1.0"
}